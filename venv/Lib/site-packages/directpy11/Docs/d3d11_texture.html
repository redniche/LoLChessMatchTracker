
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>d3d11.Texture &mdash; DirectPython 11 v0.1 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '#',
        VERSION:     '0.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="DirectPython 11 v0.1 documentation" href="index.html" />
    <link rel="next" title="d3d11.Vector" href="d3d11_vector.html" />
    <link rel="prev" title="d3d11.Media" href="d3d11_media.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="d3d11_vector.html" title="d3d11.Vector"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="d3d11_media.html" title="d3d11.Media"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">DirectPython 11 v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="d3d11-texture">
<h1>d3d11.Texture<a class="headerlink" href="#d3d11-texture" title="Permalink to this headline">¶</a></h1>
<p>Texture stores 2D-texture data. See
<a class="reference external" href="http://msdn.microsoft.com/en-us/library/ff476906%28v=VS.85%29.aspx">Introduction To Textures in Direct3D 11</a>.</p>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="d3d11.Texture">
<em class="property">class </em><tt class="descname">Texture</tt><a class="headerlink" href="#d3d11.Texture" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="d3d11.Texture.Texture">
<tt class="descname">Texture</tt><big>(</big><em>path</em><span class="optional">[</span>, <em>size=(0</em>, <em>0</em>, <em>1</em>, <em>0)</em>, <em>format=0</em>, <em>bind= BIND_SHADER_RESOURCE</em>, <em>usage= USAGE_DEFAULT</em>, <em>cpuaccess=0</em>, <em>miscflags=0</em><span class="optional">]</span><big>)</big> &rarr; Texture<a class="headerlink" href="#d3d11.Texture.Texture" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; File to be loaded. If this is None a new empty texture is created (with undefined content).</li>
<li><strong>size</strong> &#8211; A tuple which should hold dimensions for the texture (width, height[, arraysize, mipmapcount]). If the
texture is loaded from a file arraysize is ignored. If <tt class="docutils literal"><span class="pre">mipmapcount</span></tt> is 0 a full chain is created.</li>
<li><strong>format</strong> &#8211; One of the <a class="reference internal" href="d3d11c.html#dxgi-format"><em>Format</em></a>-values.</li>
<li><strong>bind</strong> &#8211; A combination of <a class="reference internal" href="d3d11c.html#bind"><em>Bind</em></a>-values.</li>
<li><strong>usage</strong> &#8211; One of the <a class="reference internal" href="d3d11c.html#usage"><em>Usage</em></a>-values.</li>
<li><strong>cpuaccess</strong> &#8211; A combination of <a class="reference internal" href="d3d11c.html#cpu-access"><em>CPU access</em></a>-values.</li>
<li><strong>miscflags</strong> &#8211; A combination of <a class="reference internal" href="d3d11c.html#resource-misc"><em>Resource misc flags</em></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Creates a new Texture.</p>
</dd></dl>

<dl class="method">
<dt id="d3d11.Texture.copy">
<tt class="descname">copy</tt><big>(</big><em>Texture source</em><big>)</big> &rarr; None<a class="headerlink" href="#d3d11.Texture.copy" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function does not report certain errors unless Direct3D debug runtime is used.</p>
</div>
<p>Performs a hardware copy. Both textures must be very similar (size, format and flags) for this to work.
If the source texture is multisampled use <a class="reference internal" href="#d3d11.Texture.resolve" title="d3d11.Texture.resolve"><tt class="xref py py-meth docutils literal"><span class="pre">resolve()</span></tt></a>.</p>
<p><a class="reference external" href="http://msdn.microsoft.com/en-us/library/ff476392%28v=VS.85%29.aspx">MSDN - CopyResource()</a></p>
</dd></dl>

<dl class="method">
<dt id="d3d11.Texture.copyRegion">
<tt class="descname">copyRegion</tt><big>(</big><em>int destx</em>, <em>int desty</em>, <em>int width</em>, <em>int height</em>, <em>int scrx</em>, <em>int srcy</em>, <em>Texture source</em>, <em>int destindex</em>, <em>int srcindex</em><big>)</big> &rarr; None<a class="headerlink" href="#d3d11.Texture.copyRegion" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>destx</strong> &#8211; X-coordinate of the destination area.</li>
<li><strong>desty</strong> &#8211; Y-coordinate of the destination area.</li>
<li><strong>width</strong> &#8211; Width of the region to be copied.</li>
<li><strong>height</strong> &#8211; Height of the region to be copied.</li>
<li><strong>scrx</strong> &#8211; X-coordinate of the source area.</li>
<li><strong>srcy</strong> &#8211; Y-coordinate of the source area.</li>
<li><strong>source</strong> &#8211; The source Texture.</li>
<li><strong>destindex</strong> &#8211; Array index for the destination texture. If texture is not an array, use 0.</li>
<li><strong>srcindex</strong> &#8211; Array index for the source texture. If texture is not an array, use 0.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function does not report certain errors unless Direct3D debug runtime is used.</p>
</div>
<p>Performs a hardware copy to a region. Only the first mipmap level will be copied so it is usually neccesarily to
use filter() on the destination texture.</p>
<p><a class="reference external" href="http://msdn.microsoft.com/en-us/library/ff476394%28v=VS.85%29.aspx">MSDN - CopySubresourceRegion()</a></p>
</dd></dl>

<dl class="method">
<dt id="d3d11.Texture.filter">
<tt class="descname">filter</tt><big>(</big><em>int filtertype</em><big>)</big> &rarr; None<a class="headerlink" href="#d3d11.Texture.filter" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filtertype</strong> &#8211; One of <a class="reference internal" href="d3d11c.html#image-filter"><em>Image filter</em></a>-values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Filters the first mipmap level to lower levels. If you have modified the texture this is often required
to apply changes to other mipmap levels.</p>
</dd></dl>

<dl class="method">
<dt id="d3d11.Texture.getDesc">
<tt class="descname">getDesc</tt><big>(</big><big>)</big> &rarr; TextureDesc&lt;size, format, bind, usage, cpuAccess, miscFlags&gt;<a class="headerlink" href="#d3d11.Texture.getDesc" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns Texture&#8217;s description as a named tuple. <tt class="docutils literal"><span class="pre">size</span></tt> is a normal tuple of four elements:
<tt class="docutils literal"><span class="pre">(width,</span> <span class="pre">height,</span> <span class="pre">arraysize,</span> <span class="pre">mipmapcount)</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="d3d11.Texture.getItemFormat">
<tt class="descname">getItemFormat</tt><big>(</big><big>)</big> &rarr; str<a class="headerlink" href="#d3d11.Texture.getItemFormat" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a format string describing one pixel. Compatible with the struct-module. Note that some formats
(DXGI_FORMAT_R10G10B10A2_UINT, DXGI_FORMAT_D24_UNORM_S8_UINT etc.) cannot be represented 100% accurately
so they are treated as a bunch on bytes.</p>
</dd></dl>

<dl class="method">
<dt id="d3d11.Texture.getItemSize">
<tt class="descname">getItemSize</tt><big>(</big><big>)</big> &rarr; int<a class="headerlink" href="#d3d11.Texture.getItemSize" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the size of one pixel in bytes.</p>
</dd></dl>

<dl class="method">
<dt id="d3d11.Texture.map">
<tt class="descname">map</tt><big>(</big><em>int maptype</em><span class="optional">[</span>, <em>int arrayindex=0</em><span class="optional">]</span><big>)</big> &rarr; None<a class="headerlink" href="#d3d11.Texture.map" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>maptype</strong> &#8211; One of the <a class="reference internal" href="d3d11c.html#map"><em>Map</em></a>-flags.</li>
<li><strong>arrayindex</strong> &#8211; Index for texture arrays.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Maps the Texture for CPU-access. Some Texture types can&#8217;t be mapped or can be mapped only for reading or writing.</p>
</dd></dl>

<dl class="method">
<dt id="d3d11.Texture.resolve">
<tt class="descname">resolve</tt><big>(</big><em>Texture source</em><big>)</big> &rarr; None<a class="headerlink" href="#d3d11.Texture.resolve" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function does not report certain errors unless Direct3D debug runtime is used.</p>
</div>
<p>Resolves (copies) a multisampled source texture into a normal texture.</p>
<p><a class="reference external" href="http://msdn.microsoft.com/en-us/library/ff476474%28v=VS.85%29.aspx">MSDN - ResolveSubresource()</a></p>
</dd></dl>

<dl class="method">
<dt id="d3d11.Texture.save">
<tt class="descname">save</tt><big>(</big><em>str filepath</em>, <em>int imageformat</em><big>)</big> &rarr; None<a class="headerlink" href="#d3d11.Texture.save" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filepath</strong> &#8211; Path to the target file.</li>
<li><strong>imageformat</strong> &#8211; One of <a class="reference internal" href="d3d11c.html#iff"><em>Image format</em></a>-values.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Saves the texture to a file. Only IFF_DDS image format is capable of supporting all texture formats.
All .dds-files can also include an extra DDS_HEADER_DXT10-header which is a relatively new feature and
not supported by all image readers.</p>
</dd></dl>

<dl class="method">
<dt id="d3d11.Texture.size">
<tt class="descname">size</tt><big>(</big><big>)</big> &rarr; int width, int height<a class="headerlink" href="#d3d11.Texture.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the width and height of a texture.</p>
</dd></dl>

<dl class="method">
<dt id="d3d11.Texture.unmap">
<tt class="descname">unmap</tt><big>(</big><big>)</big> &rarr; None<a class="headerlink" href="#d3d11.Texture.unmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmaps a mapped texture.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="subscripting">
<h2>Subscripting<a class="headerlink" href="#subscripting" title="Permalink to this headline">¶</a></h2>
<p>Texture supports 2D-slicing to read or write data in byte form. All formats are not supported.
Slicing methods do not support negative parameters. All operations use only the first mipmap level.</p>
<dl class="class">
<dt id="d3d11.d3d11.Texture">
<em class="property">class </em><tt class="descclassname">d3d11.</tt><tt class="descname">Texture</tt><a class="headerlink" href="#d3d11.d3d11.Texture" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt>
<tt class="descname">Texture[startx:stopx:stepx, starty:stopy:stepy] -&gt; bytearray/list</tt></dt>
<dd><p>Slices the given area and returns a 1D-bytearray (Python &gt;= 2.6) or a list (Python &lt; 2.6)
in a row-major order (C-style). Because returned values are in a 1D-form as bytes it
is often easier to use this data through special adapter classes. <a class="reference internal" href="d3d11x.html#d3d11x.Accessor" title="d3d11x.Accessor"><tt class="xref py py-class docutils literal"><span class="pre">d3d11x.Accessor</span></tt></a> is one example.</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">Texture[startx:stopx:stepx, starty:stopy:stepy] = sequence -&gt; None</tt></dt>
<dd><p>Slice assign.</p>
</dd></dl>

</dd></dl>

<p>This example creates a grid pattern by zeroing the red channel:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Black</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">0</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">Texture</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="c">#Assume some RGB(A)-compatible format</span>
<span class="k">with</span> <span class="n">Mapper</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">MAP_WRITE</span><span class="p">):</span>
    <span class="n">t</span><span class="p">[::</span><span class="mi">3</span><span class="p">,</span> <span class="p">::</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">Black</span><span class="p">()</span>
<span class="n">t</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">FILTER_LINEAR</span><span class="p">)</span>
</pre></div>
</div>
<p>Next example &#8220;brightens&#8221; a 75x50-sized area at (x=100, y=200, x2=175, y2=250). This
also modifies alpha values which is not usually wanted.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="n">Texture</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="c">#Assume some RGB(A)-compatible format</span>
<span class="k">with</span> <span class="n">Mapper</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">MAP_READ_WRITE</span><span class="p">):</span>
    <span class="n">t</span><span class="p">[</span><span class="mi">100</span><span class="p">:</span><span class="mi">175</span><span class="p">,</span> <span class="mi">200</span><span class="p">:</span><span class="mi">250</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">),</span> <span class="mi">255</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="p">[</span><span class="mi">100</span><span class="p">:</span><span class="mi">175</span><span class="p">,</span> <span class="mi">200</span><span class="p">:</span><span class="mi">250</span><span class="p">]]</span>
<span class="n">t</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">FILTER_LINEAR</span><span class="p">)</span>
</pre></div>
</div>
<p>This example retrieves one horizontal line (row) and one vertical line (column).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">row</span> <span class="o">=</span> <span class="n">t</span><span class="p">[::,</span> <span class="mi">55</span><span class="p">:</span><span class="mi">56</span><span class="p">]</span>
<span class="n">column</span> <span class="o">=</span> <span class="n">t</span><span class="p">[</span><span class="mi">23</span><span class="p">:</span><span class="mi">24</span><span class="p">,</span> <span class="p">::]</span>
</pre></div>
</div>
</div>
<div class="section" id="buffer-protocol">
<h2>Buffer protocol<a class="headerlink" href="#buffer-protocol" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Care should be used when using buffer protocol as it is the responsibility of the programmer to ensure that the memory stays
mapped as long as neccesarily and that it was mapped for correct access (read/write). Also the buffer protocol has
no concept of a write-only buffer.</p>
</div>
<p>Texture supports Python&#8217;s buffer protocol. For example it is possible to directly manipulate
textures&#8217;s mapped memory using memoryview or any other similar object.</p>
</div>
<div class="section" id="links">
<h2>Links<a class="headerlink" href="#links" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="http://msdn.microsoft.com/en-gb/library/ee420038%28VS.85%29.aspx">MSDN - ID3D11Texture2D</a></li>
</ul>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference external" href="http://www.pythonware.com/products/pil">Python Imaging Library (PIL)</a></dt>
<dd>Image processing library.</dd>
</dl>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">d3d11.Texture</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#subscripting">Subscripting</a></li>
<li><a class="reference internal" href="#buffer-protocol">Buffer protocol</a></li>
<li><a class="reference internal" href="#links">Links</a></li>
</ul>
</li>
</ul>

          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
          
          <p>
            <a href="http://sourceforge.net/projects/directpython11">
            <img src="_images/sf.gif" alt="Get DirectPython 11 at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a>
          </p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="d3d11_vector.html" title="d3d11.Vector"
             >next</a> |</li>
        <li class="right" >
          <a href="d3d11_media.html" title="d3d11.Media"
             >previous</a> |</li>
        <li><a href="index.html">DirectPython 11 v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2010, Heikki Salo.
      Last updated on Aug 08, 2010.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.1.
    </div>
  </body>
</html>